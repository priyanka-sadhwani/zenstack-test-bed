// src/runtime/common.ts
import { deserialize, serialize } from "@zenstackhq/runtime/browser";
import {
  applyMutation,
  getMutatedModels,
  getReadModels
} from "@zenstackhq/runtime/cross";
var QUERY_KEY_PREFIX = "zenstack";
function getQueryKey(model, urlOrOperation, args, options = { infinite: false, optimisticUpdate: true }) {
  if (!urlOrOperation) {
    throw new Error("Invalid urlOrOperation");
  }
  const operation = urlOrOperation.split("/").pop();
  const infinite = options.infinite;
  const optimisticUpdate = options.infinite ? false : options.optimisticUpdate;
  return [QUERY_KEY_PREFIX, model, operation, args, { infinite, optimisticUpdate }];
}
export {
  getQueryKey
};
//# sourceMappingURL=index.mjs.map